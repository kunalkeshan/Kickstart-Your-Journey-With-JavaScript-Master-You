<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Fetch API</title>
		<script src="https://cdn.tailwindcss.com"></script>
		<script src="../11-fetch.js" defer></script>
	</head>
	<body class="w-full p-12 font-mono flex">
		<main
			class="bg-[#9095A0] w-full h-full rounded-xl p-2 max-w-[1200px] mx-auto"
		>
			<h1 class="text-4xl text-center">11 - Fetch API</h1>
			<h2 class="text-xl mt-2 text-center">
				Make your website dynamic using the Fetch API. Make sure to keep
				your console open while viewing the page (Ctrl + Shift + I)
			</h2>
			<div class="flex flex-col gap-2 my-2">
				<h3 class="text-xl"># Fetch API</h3>
				<p>
					An built feature in browser JavaScript to access data from
					some location that is not with us.
				</p>
				<code
					lang="javascript"
					class="bg-black text-white px-4 py-2 select-all"
				>
					/**<br />
					* Basic syntax<br />
					* fetch("url to the location")<br />
					* Return a promise<br />
					*/<br /><br />

					const root = document.getElementById("root");<br /><br />

					// Using Promise chaining (then...then..catch)<br />
					fetch("https://jsonplaceholder.typicode.com/posts")<br />
					.then((response) => {<br />
					console.log(response);<br />
					return response.json();<br />
					})<br />
					.then((data) => {<br />
					for (let i = 0; i < data.length; i++) {<br />
					root.innerHTML += `<br />
					&lt;div class=&quot;bg-white p-2 rounded-lg max-w-[60%]
					mx-auto text-[#9095A0]&quot; &gt;
					<br />
					&lt;h3
					class=&quot;text-xl&quot;&gt;${data[i].title}&lt;/h3&gt;
					<br />
					&lt;p class=&quot;text-xs&quot;&gt;${data[i].body}&lt;/p&gt;
					<br />
					&lt;/div&gt;
					<br />
					`<br />
					}<br />
					})<br />
					.catch((error) => {<br />
					console.log(error)<br />
					root.innerText = `<br />
					Unable to fetch information ❌.<br />
					Error: ${error.message}<br />
					`<br />
					})<br /><br />

					// Using async / await keywords based functions<br />
					// const populatePosts = async () => {<br />
					// try {<br />
					// const response = await
					fetch("https://jsonplaceholder.typicode.com/posts");<br />
					// console.log(response);<br />
					// const data = await response.json();<br />
					// console.log(data);<br />
					// for (let i = 0; i < data.length; i++) {<br />
					// root.innerHTML += `<br />
					// &lt;div class=&quot;bg-white p-2 rounded-lg max-w-[60%]
					// mx-auto text-[#9095A0]&quot; &gt;
					<br />
					// &lt;h3
					class=&quot;text-xl&quot;&gt;${data[i].title}&lt;/h3&gt;
					<br />
					// &lt;p
					class=&quot;text-xs&quot;&gt;${data[i].body}&lt;/p&gt;
					<br />
					// &lt;/div&gt;
					<br />
					// `<br />
					// }<br />
					// } catch (error) {<br />
					// console.log(error);<br />
					// root.innerText = `<br />
					// Unable to fetch information ❌.<br />
					// Error: ${error.message}<br />
					// `<br />
					// }<br />
					// }<br /><br />

					// populatePosts();<br />
				</code>
			</div>
			<div class="flex flex-col gap-2 my-2" id="root"></div>
			<div class="flex flex-col gap-2 my-2">
				<h3 class="text-xl"># Resources</h3>
				<ul class="list-disc pl-4">
					<li>
						<a
							href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"
							target="_blank"
							class="underline"
							>https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch</a
						>
					</li>
					<li>
						<a
							href="https://www.w3schools.com/js/js_api_fetch.asp"
							target="_blank"
							class="underline"
							>https://www.w3schools.com/js/js_api_fetch.asp</a
						>
					</li>
				</ul>
			</div>
			<a
				href="../"
				class="w-full bg-white px-4 py-2 my-2 block text-center text-lg rounded-lg font-bold"
				>Go Back</a
			>
		</main>
		<img
			src="../../assets/master-you-logo.png"
			alt="Master-You logo"
			class="w-16 h-16 fixed top-2 right-2 rounded-lg"
		/>
	</body>
</html>
